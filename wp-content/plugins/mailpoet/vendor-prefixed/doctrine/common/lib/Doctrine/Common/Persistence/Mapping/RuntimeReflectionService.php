<?php
 namespace MailPoetVendor\Doctrine\Common\Persistence\Mapping; if (!defined('ABSPATH')) exit; use MailPoetVendor\Doctrine\Common\Reflection\RuntimePublicReflectionProperty; use ReflectionClass; use ReflectionException; use ReflectionMethod; use ReflectionProperty; class RuntimeReflectionService implements \MailPoetVendor\Doctrine\Common\Persistence\Mapping\ReflectionService { public function getParentClasses($class) { if (!\class_exists($class)) { throw \MailPoetVendor\Doctrine\Common\Persistence\Mapping\MappingException::nonExistingClass($class); } return \class_parents($class); } public function getClassShortName($class) { $reflectionClass = new \ReflectionClass($class); return $reflectionClass->getShortName(); } public function getClassNamespace($class) { $reflectionClass = new \ReflectionClass($class); return $reflectionClass->getNamespaceName(); } public function getClass($class) { return new \ReflectionClass($class); } public function getAccessibleProperty($class, $property) { $reflectionProperty = new \ReflectionProperty($class, $property); if ($reflectionProperty->isPublic()) { $reflectionProperty = new \MailPoetVendor\Doctrine\Common\Reflection\RuntimePublicReflectionProperty($class, $property); } $reflectionProperty->setAccessible(\true); return $reflectionProperty; } public function hasPublicMethod($class, $method) { try { $reflectionMethod = new \ReflectionMethod($class, $method); } catch (\ReflectionException $e) { return \false; } return $reflectionMethod->isPublic(); } } 